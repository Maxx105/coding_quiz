<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Code Quiz</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    </head>
    <body>
        <h1 id = "highscores" style="float: left;">View Highscores</h1>
        <h1 style="float: right;" id="timeLeft">Time Left: 0</h1>
        <div class="container">
            <div id="quizStart" style="clear: both; width: 50%; margin: auto;">
                <br><br><br>
                <div id="headerAndPrompt">
                    <h1 id="quizHeader">Coding Quiz Challenge</h1>
                    <p id="quizPrompt">This is a coding quiz. You'll be timed.</p>
                    <div id="finalScore"></div>
                    <div id="submitInitials">
                        <div id="enterInitials" style="float: left;"></div>
                        <div id="enterInitialsText" style="float: left;"></div>
                        <div id="enterInitialsButton" style="float: left;"></div>
                    </div>
                    <ol id="highscoresList"></ol>
                    <form>
                        <div id="goBackButton" style="float: left;"></div>
                    </form>
                </div>
                <button id="startButton">Start Quiz</button>
                <div id="buttonsDiv">
                    <div id="answerOneDiv"></div>
                    <br>
                    <div id="answerTwoDiv"></div>
                    <br>
                    <div id="answerThreeDiv"></div>
                    <br>
                    <div id="answerFourDiv"></div>
                </div>
                <div id="hrDiv" style="clear: both;"></div>
            </div>
        </div>

    </body>
    <script>
        var timerEl = document.querySelector('#timeLeft');
        var quizStartButton = document.querySelector('#startButton');
        var viewHighscores = document.querySelector('#highscores');
        var quizStartDiv = document.querySelector('#quizStart');
        var quizHeader = document.querySelector('#quizHeader');
        var quizPrompt = document.querySelector('#quizPrompt');
        var answerOneDiv = document.querySelector('#answerOneDiv');
        var answerTwoDiv = document.querySelector('#answerTwoDiv');
        var answerThreeDiv = document.querySelector('#answerThreeDiv');
        var answerFourDiv = document.querySelector('#answerFourDiv');
        var buttonsDiv = document.querySelector('#buttonsDiv');
        var headerAndPrompt = document.querySelector('#headerAndPrompt');
        var finalScoreDiv = document.querySelector('#finalScore');
        var submitInitials = document.querySelector('#submitInitials');
        var highscoresList = document.querySelector('#highscoresList');
        var goBackButtonDiv = document.querySelector('#goBackButton');
        var hrDiv = document.querySelector('#hrDiv');
        var answerOne = document.createElement('button');
        var answerTwo = document.createElement('button');
        var answerThree = document.createElement('button');
        var answerFour = document.createElement('button');
        var goBackButton = document.createElement('button');
        var clearHighscoresButton = document.createElement('button');
        var hr = document.createElement('hr');
        var rightOrWrong = document.createElement('p');
        var finalScore = document.createElement('p');
        var highscoresListItem = document.createElement('li');

        var enterInitialsDiv = document.querySelector('#enterInitials');
        var enterInitials = document.createElement('p');
        var enterInitialsTextDiv = document.querySelector('#enterInitialsText');
        var enterInitialsText = document.createElement('input');
        var enterInitialsButtonDiv = document.querySelector('#enterInitialsButton');
        var enterInitialsButton = document.createElement('button');

        var questionsCount = 0;
        var timeLeft = 100;
        var highscoreCount = 1;
        


        // this allows you to click on "view highscores" and view the high scores.
        viewHighscores.addEventListener('click', function(event){
            functionHighscoresPage();
        });
        
        // when the wrong answer is chosen, 10 seconds is taken off the timer.
        

        function quizTimer() {
            timeLeft = 100;
            var timeInterval = setInterval(countDown, 1000);

            function countDown() {
                timerEl.textContent = `Time Left: ${timeLeft}`;
                timeLeft--;

                if (timeLeft <= 0) {
                    timerEl.textContent = "Time Left: 0";
                    clearInterval(timeInterval);
                }
                if (questionsCount === 6) {
                    clearInterval(timeInterval);
                }

            }
        }

        // When the "Start Quiz" button is pressed, the timer starts.
        quizStartButton.addEventListener('click', function(event){
            quizTimer();
            quizPrompt.remove();
            quizStartButton.remove();
            functionQuestionOne();
            questionsCount = 1;
            //console.log(questionsCount);
            answerOneDiv.appendChild(answerOne);
            answerTwoDiv.appendChild(answerTwo);
            answerThreeDiv.appendChild(answerThree);
            answerFourDiv.appendChild(answerFour);
        });

        function answerFunction(answers){
            answers.addEventListener('click', function(event){
            questionsCount++
            console.log(questionsCount);
            if (answers.textContent === "alerts" || answers.textContent === "parentheses" || answers.textContent === "all of the above" || answers.textContent === "quotes" || answers.textContent === "console log"){
                hrDiv.appendChild(hr);
                rightOrWrong.textContent = "Right!";
                quizStartDiv.appendChild(rightOrWrong);
            } else {
                hrDiv.appendChild(hr);
                rightOrWrong.textContent = "Wrong!"
                quizStartDiv.appendChild(rightOrWrong);
                timeLeft = timeLeft - 10;
            }
            if (questionsCount === 2){
            functionQuestionTwo();
            }
            else if (questionsCount === 3){
            functionQuestionThree();
            }
            else if (questionsCount === 4){
            functionQuestionFour();
            }
            else if (questionsCount === 5){
            functionQuestionFive();
            }
            else if (questionsCount === 6){
            functionSubmitScore();
            }
            });
        }
        
        answerFunction(answerOne);
        answerFunction(answerTwo);
        answerFunction(answerThree);
        answerFunction(answerFour);

        function functionQuestionOne(){
            quizHeader.textContent = "Commonly used data types DO NOT include:";
            answerOne.textContent = "strings";
            answerTwo.textContent = "booleans";
            answerThree.textContent = "alerts";
            answerFour.textContent = "numbers";
        }
        function functionQuestionTwo(){
            quizHeader.textContent = "The condition in an if/else statement is enclosed within _________";
            answerOne.textContent = "two forward slashes";
            answerTwo.textContent = "parentheses";
            answerThree.textContent = "curly brackets";
            answerFour.textContent = "square brackets";
        }
        function functionQuestionThree(){
            quizHeader.textContent = "Arrays in JavaScript can be used to store:";
            answerOne.textContent = "numbers and strings";
            answerTwo.textContent = "other arrays";
            answerThree.textContent = "booleans";
            answerFour.textContent = "all of the above";
        }
        function functionQuestionFour(){
            quizHeader.textContent = "String values must be enclosed with __________ when being assigned to variables.";
            answerOne.textContent = "commas";
            answerTwo.textContent = "curly brackets";
            answerThree.textContent = "quotes";
            answerFour.textContent = "forward slashes";
        }
        function functionQuestionFive(){
            quizHeader.textContent = "A very useful tool used during development and debugging for printing content to the debugger is:";
            answerOne.textContent = "JavaScript";
            answerTwo.textContent = "terminal/bash";
            answerThree.textContent = "for loops";
            answerFour.textContent = "console log";
        }

        // var count = localStorage.getItem("count");

        // counter.textContent = count;

        // addButton.addEventListener("click", function() {
        // count++;
        // counter.textContent = count;

        // localStorage.setItem("count", count);
        // });

        // subtractButton.addEventListener("click", function() {
        // count--;
        // counter.textContent = count;

        // localStorage.setItem("count", count);
        // });

        function functionHighscoresPage(){
            quizHeader.textContent = "Highscores!"; 
            highscoresListItem.textContent = `${enterInitialsText.value} - ${timeLeft + 1}`;
            finalScore.remove();
            submitInitials.remove();
            hr.remove();
            rightOrWrong.remove();
            quizStartButton.remove();
            quizPrompt.remove();
            goBackButton.textContent = "Go Back";
            clearHighscoresButton.textContent = "Clear Highscores";
            goBackButtonDiv.appendChild(goBackButton);
            headerAndPrompt.appendChild(clearHighscoresButton);
        }

        function functionSubmitScore(){
            quizHeader.textContent = "All done!";
            finalScore.textContent = `Your final score is ${timeLeft}`;
            buttonsDiv.remove();
            
            finalScoreDiv.append(finalScore);
            
            //headerAndPrompt.append(enterInitialsForm);

            enterInitials.textContent = "Enter Initials:"
            enterInitialsDiv.append(enterInitials);
            
            enterInitialsText.setAttribute('placeholder', "Enter Initials");
            enterInitialsTextDiv.append(enterInitialsText);

            enterInitialsButton.textContent = "Submit";
            enterInitialsButtonDiv.append(enterInitialsButton);
        }

        var initialsButton = document.querySelector('#enterInitialsButton');
        initialsButton.addEventListener('click', function(event){
            functionHighscoresPage();
            highscoresList.appendChild(highscoresListItem);
            highscoresListItem.setAttribute("style", "background-color: cyan;")
        });
        

    </script>
</html>